{% extends "base.html" %}

{% block title %}Задание {{ task_id }}{% endblock %}

{% block content %}
    <style>
        .symbols-container {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
    margin: 24px 0;
    padding: 0;
    width: 80%;;
}

    </style>
<h1>Найди спрятанный код</h1>
<p class="instruction">Один из наших союзников должен передать код. Выбери правильный телефон.</p>

<!-- Сообщение об ошибке -->
{% if error %}
    <div class="error-message">{{ error }}</div>
{% endif %}

<!-- Кнопки с картинками -->
<div class="symbols-container">
    {% for symbol in symbols %}
    <button type="button" class="matrix-symbol-btn" onclick="showMessage('{{ symbol.message | e }}')">
        <img src="{{ symbol.image }}" alt="Символ">
    </button>
    {% endfor %}
</div>

<!-- Форма ввода кода -->
<form method="post">
    <div class="input-group">
        <label for="code">Код:</label>
        <input 
            type="text"     
            id="code" 
            name="code" 
            class="matrix-input" 
            required 
            value="{{ code or '' }}"
        >
    </div>
    <button type="submit" class="matrix-btn">Активировать</button>
</form>
{% endblock %}

{% block script %}
<script>
function showMessage(text) {
    alert(text); // Просто и надёжно — без модальных окон
}
</script>
{% endblock %}